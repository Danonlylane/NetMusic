# Reactç½‘æ˜“äº‘éŸ³ä¹é¡¹ç›®å¼€å‘æ–‡æ¡£

[toc]

### åœ¨çº¿é¢„è§ˆåœ°å€

- ğŸ˜‹ é¡¹ç›®åœ¨çº¿é¢„è§ˆåœ°å€ï¼šhttp://beiyep.cn:7878/

### æŠ€æœ¯æ ˆ

- `CSS` ä½¿ç”¨ `Flex` è¿›è¡Œå¸ƒå±€
- é…ç½®è·¯å¾„åˆ«åä½¿ç”¨ `carco`
- é¡¹ç›®è·¯ç”±ä½¿ç”¨ `react-router` æ¥ç®¡ç†
- ä½¿ç”¨ `react-router-config` é›†ä¸­å¼è·¯å¾„æ˜ å°„è¡¨ç®¡ç†
- ä½¿ç”¨ `styled-components` + æ™®é€šçš„ `css` ç¼–å†™æ ·å¼
- ä½¿ç”¨ `axios` å‘é€ç½‘ç»œè¯·æ±‚
- é¡¹ç›®å…¨é¢æ‹¥æŠ± `React Hooks`
- é¡¹ç›®ç»„ä»¶åº“ä½¿ç”¨ `ant design`
- ä½¿ç”¨ `immutable` å¯¹é¡¹ç›® `reducer` ä¸­ `state` è¿›è¡Œç®¡ç†
- ä½¿ç”¨ `redux-immtable`  å¯¹æ ¹ç›®å½• `reducer` ä¸­ `state` è¿›è¡Œç®¡ç†
- é¡¹ç›®ä½¿ç”¨ `redux-thunk` ä¸­é—´ä»¶
- ä½¿ç”¨ `propType` æ ¡éªŒ `props` ç±»å‹åŠé»˜è®¤å€¼
- ä½¿ç”¨ `react-transition-group` æ·»åŠ è¿‡æ¸¡åŠ¨ç”»æ•ˆæœ
- é¡¹ç›®ä¸­çš„ä¼˜åŒ–: å‡½æ•°å¼ç»„ä»¶å…¨éƒ¨é‡‡ç”¨ `memo`ã€è·¯ç”±æ‡’åŠ è½½ã€å‡½æ•°é˜²æŠ–



### é¡¹ç›®è§„èŒƒ

é¡¹ç›®è§„èŒƒï¼šé¡¹ç›®ä¸­æœ‰ä¸€äº›å¼€å‘è§„èŒƒå’Œä»£ç é£æ ¼ (ä¹Ÿå¯ä»¥æŒ‰ç…§è‡ªå·±çš„ä¹ æƒ¯)

- æ–‡ä»¶å¤¹ã€æ–‡ä»¶åç§°ç»Ÿä¸€å°å†™ã€å¤šä¸ªå•è¯ä»¥è¿æ¥ç¬¦ï¼ˆ`-`ï¼‰è¿æ¥ï¼›

- `JavaScript`å˜é‡åç§°é‡‡ç”¨å°é©¼å³°æ ‡è¯†ï¼Œå¸¸é‡å…¨éƒ¨ä½¿ç”¨å¤§å†™å­—æ¯ï¼Œç»„ä»¶é‡‡ç”¨å¤§é©¼å³°ï¼›

- CSSé‡‡ç”¨æ™®é€š`CSS`å’Œ`styled-component`ç»“åˆæ¥ç¼–å†™

- å…¨å±€é‡‡ç”¨æ™®é€š`CSS`ã€å±€éƒ¨é‡‡ç”¨`styled-component`

- æ•´ä¸ªé¡¹ç›®ä¸å†ä½¿ç”¨`class`ç»„ä»¶ï¼Œç»Ÿä¸€ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶ï¼Œå¹¶ä¸”å…¨é¢æ‹¥æŠ±`Hooks`ï¼›

- æ‰€æœ‰çš„å‡½æ•°å¼ç»„ä»¶ï¼Œä¸ºäº†é¿å…ä¸å¿…è¦çš„æ¸²æŸ“ï¼Œå…¨éƒ¨ä½¿ç”¨`memo`è¿›è¡ŒåŒ…è£¹ï¼›

- ç»„ä»¶å†…éƒ¨çš„çŠ¶æ€ï¼Œä½¿ç”¨`useState`ã€`useReducer`ï¼›ä¸šåŠ¡æ•°æ®å…¨éƒ¨æ”¾åœ¨`redux`ä¸­ç®¡ç†ï¼›

- å‡½æ•°ç»„ä»¶å†…éƒ¨åŸºæœ¬æŒ‰ç…§å¦‚ä¸‹é¡ºåºç¼–å†™ä»£ç ï¼š
  - ç»„ä»¶å†…éƒ¨`state`ç®¡ç†ï¼›
  - `redux`çš„`hooks`ä»£ç ï¼›
  - å…¶ä»–ç»„ä»¶`hooks`ä»£ç ï¼›
  - å…¶ä»–é€»è¾‘ä»£ç ï¼›
  - è¿”å›JSXä»£ç ï¼›

- `redux`ä»£ç è§„èŒƒå¦‚ä¸‹:
  - æ¯ä¸ªæ¨¡å—æœ‰è‡ªå·±ç‹¬ç«‹çš„`reducer`ï¼Œé€šè¿‡`combineReducer`è¿›è¡Œåˆå¹¶ï¼›
  - å¼‚æ­¥è¯·æ±‚ä»£ç ä½¿ç”¨`redux-thunk`ï¼Œå¹¶ä¸”å†™åœ¨`actionCreators`ä¸­ï¼›
  - `redux`ç›´æ¥é‡‡ç”¨`redux hooks`æ–¹å¼ç¼–å†™ï¼Œä¸å†ä½¿ç”¨`connect`ï¼›

### é…ç½®åˆ«å

1. å®‰è£…ç¬¬ä¸‰æ–¹åº“ `yarn add @craco/craco`

   - ä½œç”¨ï¼šä¸æš´éœ² `webpack` åŸæœ¬é…ç½®çš„æƒ…å†µä¸‹ï¼Œç»™é¡¹ç›®æ·»åŠ  `webpack` é…ç½®

2. æŠŠ `package.json` é‡Œé¢çš„ `scripts` ç‰‡æ®µ

   ```json
    "scripts": {
       "start": "react-scripts start",
       "build": "react-scripts build",
       "test": "react-scripts test",
       "eject": "react-scripts eject"
     },
   ```

   ä¿®æ”¹ä¸º

   ```json
   "scripts": {
       "start": "craco start",
       "build": "craco build",
       "test": "craco test",
       "eject": "craco eject"
     },
   ```

3. åœ¨æ ¹ç›®å½•ä¸‹æ–°å»º `craco.config.js` æ–‡ä»¶

   ```javascript
   const path = require("path");
   
   const resolve = dir => path.resolve(__dirname, dir);
   
   module.exports = {
       webpack: {
           alias: {
               "@": resolve("src"),
               "component": resolve("src/components")
           }
       }
   }
   ```

   

4. é‡å¯é¡¹ç›®ï¼Œåœ¨è·¯å¾„ä¸­ä½¿ç”¨åˆ«åå³å¯ã€‚

   æ¯”å¦‚

   ```
   
   ```

   ä½¿ç”¨åˆ«åå°±å¾ˆç®€æ´

   ```
   
   ```

   

### ç”Ÿæˆç›®å½•ç»“æ„

åˆ©ç”¨ `tree` è¿™ä¸ªç›®å½•æ ‘ç”Ÿæˆå·¥å…·ã€‚`win` åŸç”Ÿæ”¯æŒ
`mac` ä¸‹éœ€è¦æ‰‹åŠ¨å®‰è£…

```mipsasm
brew install tree 
```

`tree` çš„å‡ ä¸ªå¸¸ç”¨å‘½ä»¤

```sh
tree -d åªæ˜¾ç¤ºæ–‡ä»¶å¤¹ï¼› 
tree -L n æ˜¾ç¤ºé¡¹ç›®çš„å±‚çº§ã€‚nè¡¨ç¤ºå±‚çº§æ•°ã€‚
tree -I pattern ç”¨äºè¿‡æ»¤ä¸æƒ³è¦æ˜¾ç¤ºçš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ã€‚
æ¯”å¦‚ä½ æƒ³è¦è¿‡æ»¤é¡¹ç›®ä¸­çš„node_modulesæ–‡ä»¶å¤¹ï¼Œå¯ä»¥ä½¿ç”¨tree -I "node_modules"ï¼› 
tree > tree.md å°†é¡¹ç›®ç»“æ„è¾“å‡ºåˆ°tree.mdè¿™ä¸ªæ–‡ä»¶ã€‚
```

æœ¬é¡¹ç›®ç»“æ„å¿½ç•¥æ‰è¿™äº›å†…å®¹

`-I` å‘½ä»¤å…è®¸ä½ ä½¿ç”¨æ­£åˆ™åŒ¹é…æ¥æ’é™¤æ‰ä½ ä¸æƒ³çœ‹åˆ°çš„**æ–‡ä»¶å¤¹**ï¼Œä¾‹å¦‚ï¼š

```shell
tree -I "node_modules"
```

ä¹Ÿå¯ä»¥ä½¿ç”¨`|`åŒæ—¶æ’é™¤æ‰å¤šä¸ªæ–‡ä»¶å¤¹ï¼š

```
tree -I "node_modules|build"
```

æ›´å¤šå‘½ä»¤çš„ä½¿ç”¨å¯ä»¥æŸ¥çœ‹tree --help

**æœ¬é¡¹ç›®ç›®å½•ç»“æ„ï¼š**

```
.
â”œâ”€â”€ README.md
â”œâ”€â”€ craco.config.js
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ package.json
â”œâ”€â”€ public
â”‚Â Â  â””â”€â”€ index.html
â”œâ”€â”€ src
â”‚Â Â  â”œâ”€â”€ App.js
â”‚Â Â  â”œâ”€â”€ assets
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ css
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ font
â”‚Â Â  â”‚Â Â  â””â”€â”€ img
â”‚Â Â  â”œâ”€â”€ common
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ constants.js
â”‚Â Â  â”‚Â Â  â””â”€â”€ local-data.js
â”‚Â Â  â”œâ”€â”€ components
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ album-cover
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ app-footer
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ app-header
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ songs-cover
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ theme-header-rcm
â”‚Â Â  â”‚Â Â  â””â”€â”€ top-ranking
â”‚Â Â  â”œâ”€â”€ index.js
â”‚Â Â  â”œâ”€â”€ pages
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ discover
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ friend
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ mine
â”‚Â Â  â”‚Â Â  â””â”€â”€ player
â”‚Â Â  â”œâ”€â”€ router
â”‚Â Â  â”‚Â Â  â””â”€â”€ index.js
â”‚Â Â  â”œâ”€â”€ services
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ config.js
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ player.js
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ recommend.js
â”‚Â Â  â”‚Â Â  â””â”€â”€ request.js
â”‚Â Â  â”œâ”€â”€ store
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ index.js
â”‚Â Â  â”‚Â Â  â””â”€â”€ reducer.js
â”‚Â Â  â””â”€â”€ utils
â”‚Â Â      â”œâ”€â”€ format-utils.js
â”‚Â Â      â”œâ”€â”€ math-utils.js
â”‚Â Â      â””â”€â”€ parse-lyric.js
â”œâ”€â”€ yarn-error.log
â””â”€â”€ yarn.lock
```

